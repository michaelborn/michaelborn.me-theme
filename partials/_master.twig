{#
  DEFINE VARS AND INCLUDES
#}
{% if bodyclass is not defined %}
  {% set bodyclass='subpage' %}
{% endif %}

{% use 'partials/_header.twig' %}
{% use 'partials/_newsletter_signup.twig' %}

{#
  BEGIN HTML
#}
<!doctype html>
<html lang="{{ htmllang() }}">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <title>
            {{ seo.title() }}
        </title>

        {{ seo.metatags() }}

        {# Would be nice to have a Bolt CMS way of embedding totally custom meta tags. #}
        <meta name="msvalidate.01" content="9C9A48C5703AE1F20CCFC6A443EA48DB" />

        {# Prefetch the DNS for the hcaptcha assets #}
        <link rel="dns-prefetch" href="https://hcaptcha.com/" crossorigin>
        <link rel="dns-prefetch" href="https://newassets.hcaptcha.com/" crossorigin>

        {% block stylesheets %}
            {# 'app' must match the first argument to addEntry() in webpack.config.js #}
            {{ encore_entry_link_tags( 'app', null, 'frontend' ) }}
        {% endblock %}

        {{ block( 'newsletter_head' ) }}
    </head>
    <body class="{{ bodyclass }}">

        {% block body %}

          {{ block( 'header' ) }}

            <main id="main">
              <div class="clearfix centerWidth">

                {{ widgets('main_top') }}

                  {% block main %}{% endblock main %}

                {{ widgets('main_bottom') }}

                {{ include('partials/_aside.twig') }}

              </div><!--/.centerWidth-->
            </main>

        {% endblock body %}

        {{ include('partials/_footer.twig') }}

        {% block javascripts %}
            {{ encore_entry_script_tags( 'app', null, 'frontend' ) }}
        {% endblock %}

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/yaml.min.js" async defer></script>
    </body>
</html>
